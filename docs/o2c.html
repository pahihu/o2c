<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Jan 19 13:18:58 2026 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>o2c</title>

</head>
<body>

<h1 align="center">o2c</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHORS">AUTHORS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">o2c &minus;
Oberon-2 to C compiler</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>o2c</b>
[<i>option</i>]... <i>filename</i> <b><br>
o2c</b> [ <b>-M</b>|<b>--make</b>] [<i>option</i>]...
<i>module</i> [<i>command</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>o2c</b> has
two major modes of operation: compile and make.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><i>compile</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>No option <b>-M</b> or <b>--make</b> is set. Translates
one or more files into C code. This is quite fast since no
object files are generated, useful to check a given module
for syntactic or semantic errors.</p></td></tr>
</table>

<p style="margin-left:22%;">Example: <b><br>
o2c Hello.Mod</b> compiles the module <b>Hello</b>. If no
errors are found, the files <b>Hello.c</b>,
<b>Hello.OSym</b>, and <b>Hello.h</b> are generated (the
latter two only if the symbol file has changed).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p style="margin-top: 1em"><i>make</i></p></td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em">Option <b>-M</b> or
<b>--make</b> is set. All modules imported directly or
indirectly by a given main module are recompiled if
necessary, including compilation into <i>.o</i> files. In a
final step the object files are linked together to form an
executable.</p> </td></tr>
</table>

<p style="margin-left:22%;">Example: <b><br>
o2c -M Hello World</b> generates the executable file
<b>Hello_World</b>. <b>World</b> is the name of a
parameterless procedure exported by module <b>Hello</b>.
It&rsquo;s called right after the module initialization. In
the terminology of the Oberon System it would be a command.
<b><br>
o2c -M o2c</b> generates the executable <b>o2c</b>. Since
the startup code of module <b>o2c</b> doesn&rsquo;t
terminate, no special command has to be executed.</p>

<p style="margin-left:9%; margin-top: 1em">Errors are
reported like this:</p>

<p style="margin-left:15%;">In file lib/Hello.Mod: <br>
14:139 &rsquo;;&rsquo; expected</p>

<p style="margin-left:9%;">The first number is the
error&rsquo;s position in the source code, i.e. file
<i>lib/Hello.Mod</i>. It&rsquo;s a character position, not a
line number. After the colon follow the error number and the
error message. If you prefer a different output format, e.g.
if you&rsquo;ld like to read error messages in the source
text context, use the filter <b>o2ef</b> (see also
<i>o2ef(1)</i>).</p>

<p style="margin-left:9%; margin-top: 1em"><b>o2c</b> uses
the following suffixes for its input and output files:
<b><br>
.Mod</b> Oberon-2 source <b><br>
.OSym</b> symbol file <b><br>
.c</b> intermediate C code <b><br>
.h</b> intermediate header file <b><br>
.m</b> marker file, generated for EXTERNAL modules <b><br>
.o</b> object file, generated by gcc</p>

<p style="margin-left:9%; margin-top: 1em">The file
<i>&#732;/.o2c.red</i> tells the compiler where to search
for existing files and where to create new files, depending
on their suffix. The file is a list of rules of the form</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="91%">


<p>pattern {&quot;,&quot; pattern} = path {&quot;;&quot;
path} [+RCS].</p></td></tr>
</table>

<p style="margin-left:9%;"><i>pattern</i> is a string of
characters that may contain <b>?</b> to match a single
arbitrary character and <b>*</b> to match zero or more
characters. E.g. <i>*.Mod</i> would match all files ending
in <i>.Mod</i>. <br>
To locate a file <i>file</i> the path lists of the patterns
matching <i>file</i> are searched from left to right. The
first path containing the file <i>file</i> is used. If
<i>+RCS</i> is set for a source file <i>M.Mod</i>, RCS files
<i>RCS/M.Mod,v</i> or <i>M.Mod,v</i> will be found in
addition to the perfect match <i>M.Mod</i>. The compiler
will automatically retrieve the working file <i>M.Mod</i> by
calling <b>co</b> and will use it as input file. <br>
For files generated by the compiler (e.g. symbol files or C
code) the first path in the list associated with the first
matching pattern will be used to store the file.</p>

<p style="margin-left:9%; margin-top: 1em">If file paths
stored in <i>&#732;/.o2c.red</i> are relative to a
directory, the compiler (and the browser) must be executed
in this directory. Otherwise the compiler will complain
about files not found.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Single character
options may be grouped together. <b>-MA</b> is equivalent to
<b>-M -A</b> or <b>--make --all</b>. <b><br>
--make, -M</b></p>

<p style="margin-left:18%;">Make an executable. The main
module and all modules it depends on are checked for
consistency and are recompiled if necessary. <b>gcc</b> is
called to generate the object files and to build an
executable.</p>

<p style="margin-left:9%;"><b>--all, -A</b></p>

<p style="margin-left:18%;">Force (re-)compilation of all
imported modules. Ignored unless <b>--make</b> is set.</p>

<p style="margin-left:9%;"><b>--makefile
&lt;file&gt;</b></p>

<p style="margin-left:18%;">Write a makefile for the given
module into file <i>&lt;file&gt;</i>. No compilation will be
done.</p>

<p style="margin-left:9%;"><b>--warn, -W</b></p>

<p style="margin-left:18%;">Print additional warnings.
Without this option only errors will be reported.</p>

<p style="margin-left:9%;"><b>--redir &lt;file&gt;</b></p>

<p style="margin-left:18%;">Use <i>&lt;file&gt;</i> as
redirection table (instead of the default
<i>&#732;/.o2c.red</i>).</p>

<p style="margin-left:9%;"><b>--help, -h</b></p>

<p style="margin-left:18%;">Give a summary on how to call
the compiler.</p>

<p style="margin-left:9%;"><b>--version, -V</b></p>

<p style="margin-left:18%;">Print compiler version.</p>

<p style="margin-left:9%;"><b>--verbose, -v</b></p>

<p style="margin-left:18%;">Print calls to <b>co</b> or
<b>gcc</b> and recompilation steps. Useful in connection
with <b>--make</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-a</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Disable assertions. Any calls to the predefined function
<b>ASSERT</b> will be ignored.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-R</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Normally the compiler will produce code to detect the
following illegal program states:</p></td></tr>
</table>

<p style="margin-left:18%;">- a function is left without a
return statement <br>
- a CASE expression does not match any label <br>
- a NIL pointer is being dereferenced <br>
- an array index is out of range <br>
- a SET index is out of range <br>
- RECORD assigment fails <br>
- a type guard or test is applied to a NIL pointer <br>
- a type guard fails <br>
- all guards of a WITH statement fail <br>
The option <b>-R</b> will disable all those checks. <br>
Note: These checks are fairly expensive, since all of them
are performed on C level.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-O</b></p></td>
<td width="6%"></td>
<td width="58%">


<p style="margin-top: 1em">Optimize code, i.e. set
<i>-O2</i> when calling <b>gcc</b>.</p></td>
<td width="24%">
</td></tr>
</table>

<p style="margin-left:9%;"><b>--usegc</b></p>

<p style="margin-left:18%;">Include support for <b>gc</b>
package. This overrides the compiler&rsquo;s default
setting. <b>o2c</b> has to be compiled with the correct path
to the <b>gc</b> library. Note: It&rsquo;s dangerous to mix
<i>.o</i> files that are compiled for <b>gc</b> with ones
that are not.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>--nogc</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Disable support for <b>gc</b> package. This overrides
the compiler&rsquo;s default setting. Note: It&rsquo;s
dangerous to mix <i>.o</i> files that aren&rsquo;t compiled
for <b>gc</b> with ones that are.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-g</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Include debug information on C level, i.e. set
<i>-g3</i> when calling <b>gcc</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-s</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Strip executable. Don&rsquo;t use this together with
<b>-g</b> since <b>-s</b> will cancel the effects of
<b>-g</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-p</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Include profiler information (for <b>gprof</b>).</p></td></tr>
</table>

<p style="margin-left:9%;"><b>--cflags
&lt;string&gt;</b></p>

<p style="margin-left:18%;">Pass <i>&lt;string&gt;</i> as
parameter(s) to the C compiler.</p>

<p style="margin-left:9%;"><b>--ldflags
&lt;string&gt;</b></p>

<p style="margin-left:18%;">Pass <i>&lt;string&gt;</i> as
parameter(s) to the linker.</p>

<p style="margin-left:9%; margin-top: 1em">The options
<b>-a</b>, <b>-R</b>, <b>-O</b>, <b>-g</b>, <b>-s</b>,
<b>-p</b>, <b>--cflags</b>, and <b>--ldflags</b> will only
take effect during a <i>make</i>, in particular only for
those files that are compiled by <b>gcc</b> while these
options are set. If you want to make sure that these options
are in effect for all modules, use the options <b>--make
--all</b>, or <b>-MA</b> for short, to recompile all
modules.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">&#732;/.o2c.red
path list</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>ErrorList.txt</p></td>
<td width="78%">


<p>error messages</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>file.Mod</p></td>
<td width="78%">


<p>Oberon-2 source file</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>file.OSym</p></td>
<td width="78%">


<p>symbol file</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>file.c</p></td>
<td width="78%">


<p>intermediate C file</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>file.h</p></td>
<td width="78%">


<p>intermediate header file</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>file.o</p></td>
<td width="78%">


<p>object file</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p>file.m</p></td>
<td width="78%">


<p>stores time of last compilation of EXTERNAL</p></td></tr>
</table>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The exit status
is non zero if and only if an error occured during
compilation.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">o2b(1), o2ef(1),
o2whereis(1)</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Michael van
Acken, Juergen Zimmermann</p>
<hr>
</body>
</html>
